!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("React"),require("nano-sql"));else if("function"==typeof define&&define.amd)define(["React","nano-sql"],e);else{var n="object"==typeof exports?e(require("React"),require("nano-sql")):e(t.React,t["nano-sql"]);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(t,e){return function(n){function o(t){var o=n.call(this,t)||this;if(o.state={data:void 0,isLoading:!0},o.updateState=o.updateState.bind(o),!e.tables||!e.tables.length)throw Error("Need tables for nanoSQL HOC!");if(!e.onChange)throw Error("Need onChange for nanoSQL HOC!");return o}return r(o,n),o.prototype.componentWillMount=function(){for(var t=(e.store||s.nSQL()).sTable,n=e.tables.length;n--;)(e.store||s.nSQL()).table(e.tables[n]).on("change",this.updateState),this.updateState({table:e.tables[n],query:{table:e.tables[n],action:null,actionArgs:null,state:"complete",result:[],comments:[]},time:Date.now(),notes:["mount"],result:[],types:["change"],actionOrView:"",affectedRows:[]});(e.store||s.nSQL()).table(t)},o.prototype.componentWillUnmount=function(){for(var t=(e.store||s.nSQL()).sTable,n=e.tables.length;n--;)(e.store||s.nSQL()).table(e.tables[n]).off("change",this.updateState);(e.store||s.nSQL()).table(t)},o.prototype.updateState=function(t){var n=this;this.setState({isLoading:!0},function(){e.onChange(t,function(t){n.setState({isLoading:!1,data:t})})})},o.prototype.render=function(){return i.createElement(t,a({nSQLloading:this.state.isLoading,nSQLdata:this.state.data},this.props))},o}(i.Component)}var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=n(2);e.bindNSQL=o},function(e,n){e.exports=t},function(t,n){t.exports=e}])});